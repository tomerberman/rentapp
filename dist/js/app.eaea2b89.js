(function(t){function e(e){for(var i,r,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)r=o[d],a[r]&&m.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var i={},a={0:0},n=[];function r(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=i,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,1]),s()})({"/XLY":function(t,e,s){},0:function(t,e,s){t.exports=s("Vtdi")},"0h/X":function(t,e,s){"use strict";var i=s("dj/A"),a=s.n(i);a.a},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},"1f0T":function(t,e,s){},29:function(t,e){},"3G2R":function(t,e,s){},"4b9E":function(t,e,s){"use strict";var i=s("x949"),a=s.n(i);a.a},"4zg/":function(t,e,s){},BJjI:function(t,e,s){"use strict";var i=s("IvTb"),a=s.n(i);a.a},"EG/1":function(t,e,s){},FuLs:function(t,e,s){"use strict";var i=s("xwAp"),a=s.n(i);a.a},GTJj:function(t,e,s){"use strict";var i=s("Pr2q"),a=s.n(i);a.a},IVQ2:function(t,e,s){"use strict";var i=s("dzuK"),a=s.n(i);a.a},IvTb:function(t,e,s){},KvoV:function(t,e,s){},NdXo:function(t,e,s){"use strict";var i=s("aEhp"),a=s.n(i);a.a},PdAg:function(t,e,s){"use strict";var i=s("h99f"),a=s.n(i);a.a},Pr2q:function(t,e,s){},PzyD:function(t,e,s){},QBcG:function(t,e,s){"use strict";var i=s("b3FM"),a=s.n(i);a.a},Rhz1:function(t,e,s){"use strict";var i=s("PzyD"),a=s.n(i);a.a},Rlu8:function(t,e,s){"use strict";var i=s("jvmp"),a=s.n(i);a.a},SdpJ:function(t,e,s){"use strict";var i=s("1f0T"),a=s.n(i);a.a},UgBZ:function(t,e,s){"use strict";var i=s("WUCZ"),a=s.n(i);a.a},Vtdi:function(t,e,s){"use strict";s.r(e);s("yt8O"),s("VRzm");var i=s("Kw5r"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav-bar"),s("router-view"),s("app-footer")],1)},n=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("nav",{staticClass:"d-flex nav-bar-main",class:{open:t.display}},[s("div",{staticClass:"logo"},[s("router-link",{attrs:{to:"/"}},[s("h1",{staticClass:"logo"},[s("img",{attrs:{src:"/img/werent_logo.png"}})])])],1),s("ul",{staticClass:"d-flex align-center clean-list"},[s("li",[t.user?s("a",{on:{click:t.logOut}},[t._v("Log Out ")]):s("a",{staticClass:"sign-in",attrs:{href:"#register"},on:{click:function(e){return e.preventDefault(),t.open(e)}}})]),s("li",[s("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),s("li",[s("router-link",{attrs:{to:"/item"}},[t._v("Check our store")])],1),s("li",[t.user?s("router-link",{attrs:{to:"/user/"+t.user._id}},[s("div",{staticClass:"user-pic",style:{backgroundImage:"url("+t.user.image+")"}}),t.newNote?s("v-icon",{staticClass:"notification"},[t._v("fas fa-bell")]):t._e()],1):t._e()],1)]),s("div",{staticClass:"hamburger",class:{exit:t.display},on:{click:function(e){t.display=!t.display}}}),s("sign-in",{class:{active:t.isActive},on:{close:t.closeModal,connect:t.checkNewTransaction}})],1)])},o=[],c=(s("rGqo"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-modal-container",on:{click:t.close}},[s("div",{staticClass:"user-modal",on:{click:function(t){t.stopPropagation()}}},[s("ul",{staticClass:"form-switcher"},[s("li",{on:{click:function(e){e.stopPropagation(),t.flip(!0)}}},[s("a",{class:{active:t.log}},[t._v("Login")])]),s("li",{on:{click:function(e){e.stopPropagation(),t.flip(!1)}}},[s("a",{class:{active:!t.log}},[t._v("signUp")])])]),t.log?s("div",{staticClass:"form-login"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.name,expression:"login.name"}],attrs:{type:"text",placeholder:"username"},domProps:{value:t.login.name},on:{input:function(e){e.target.composing||t.$set(t.login,"name",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}}),s("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.submitLogin(e)}}},[t._v("Submit")]),s("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.close(e)}}},[t._v("Cancel")])]):t._e(),t.log?t._e():s("div",{staticClass:"form-sign-up"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signUp.name,expression:"signUp.name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:t.signUp.name},on:{input:function(e){e.target.composing||t.$set(t.signUp,"name",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signUp.email,expression:"signUp.email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:t.signUp.email},on:{input:function(e){e.target.composing||t.$set(t.signUp,"email",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signUp.password,expression:"signUp.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.signUp.password},on:{input:function(e){e.target.composing||t.$set(t.signUp,"password",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signUp.address,expression:"signUp.address"}],attrs:{type:"text",placeholder:"address"},domProps:{value:t.signUp.address},on:{input:function(e){e.target.composing||t.$set(t.signUp,"address",e.target.value)}}}),s("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.submitSignUp(e)}}},[t._v("Submit")]),s("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.close(e)}}},[t._v("Cancel")])])])])}),l=[],u={name:"signIn",data:function(){return{log:!0,login:{name:"",password:""},signUp:{name:"",password:"",address:"",email:""}}},methods:{close:function(t){this.$emit("close")},flip:function(t){this.log=t},submitSignUp:function(){var t=this;this.$store.dispatch({type:"updateUser",user:this.signUp}).then(function(e){t.$emit("close"),t.signUp={name:"",password:"",address:"",email:""}}).catch(function(t){return console.log(t)})},submitLogin:function(){var t=this;this.$store.dispatch({type:"login",user:this.login}).then(function(e){e&&(t.$emit("close"),t.login={name:"",password:""},t.log=!0,t.$emit("connect"))}).catch(function(t){return console.log(t)})}}},d=u,m=(s("0h/X"),s("KHd+")),p=Object(m["a"])(d,c,l,!1,null,"4bfe9d14",null),v=p.exports,h={name:"navBar",data:function(){return{isActive:!1,isOpen:!1,display:!1,newNote:!1}},computed:{user:function(){return this.$store.getters.loggedinUser}},methods:{logOut:function(){this.$store.dispatch({type:"logOut"}),this.$router.push("/")},open:function(){this.isActive=!0},closeModal:function(){this.isActive&&(this.isActive=!1)},checkNewTransaction:function(){var t=this;return this.$store.dispatch({type:"getTransactionsByOwner",userId:this.$store.getters.loggedinUser._id}).then(function(e){console.log(e),e.forEach(function(e){e.isNew&&(t.newNote=!0,t.$store.commit({type:"setNewNotification",status:!0}))})})}},components:{signIn:v}},f=h,g=(s("BJjI"),Object(m["a"])(f,r,o,!1,null,"25f3f06e",null)),y=g.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"outer-container"},[s("section",[s("v-container",{attrs:{"grid-list-xl":""}},[s("v-layout",{staticClass:"my-5",attrs:{row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm4:""}},[s("v-card",{staticClass:"elevation-0 transparent"},[s("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[s("div",{staticClass:"headline"},[t._v("Company info")])]),s("v-card-text",[t._v("\r\n                    Why buy when you can rent?\r\n                    with We Rent you can do that and it's so simple! \r\n                    Just Find your next experience , book it and enjoy!\r\n                    \r\n                ")])],1)],1),s("v-flex",{attrs:{xs12:"",sm4:"","offset-sm1":""}},[s("v-card",{staticClass:"elevation-0 transparent"},[s("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[s("div",{staticClass:"headline"},[t._v("Contact us")])]),s("v-card-text",[t._v("\r\n                  Contact us 24/7\r\n                ")]),s("v-list",{staticClass:"transparent"},[s("v-list-tile",[s("v-list-tile-action",[s("v-icon",{staticClass:"text--lighten-2"},[t._v("phone")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("03-52504839")])],1)],1),s("v-list-tile",[s("v-list-tile-action",[s("v-icon",{staticClass:"text--lighten-2"},[t._v("place")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Tel Aviv, Israel")])],1)],1),s("v-list-tile",[s("v-list-tile-action",[s("v-icon",{staticClass:"text--lighten-2"},[t._v("email")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Tomer_pushner@gmail.com")])],1)],1)],1)],1)],1)],1)],1)],1)])},b=[],w={name:"app-footer"},k=w,I=(s("PdAg"),Object(m["a"])(k,_,b,!1,null,"d372920c",null)),C=I.exports,x={components:{navBar:y,appFooter:C},created:function(){this.$store.dispatch({type:"loadItems"})}},U=x,D=(s("XAuw"),Object(m["a"])(U,a,n,!1,null,null,null)),T=D.exports,$=s("jE9Z"),S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"outer-container"},[s("v-app",{attrs:{light:""}},[s("v-content",[s("section",[s("v-parallax",{staticClass:"top-pic",attrs:{src:"https://st2.depositphotos.com/2931363/10483/i/950/depositphotos_104838936-stock-photo-young-people-drinking-beer.jpg"}},[s("v-layout",{staticClass:"opaque-background",attrs:{column:"","align-center":"","justify-end":""}},[s("h1",{staticClass:"layout-test1 display-3 text-xs-center color:#162044 "},[t._v("Rent anything, anywhere, anytime")]),s("div",{staticClass:"subheading mb-3 text-xs-center"}),s("div",{staticClass:"subheading mb-3 text-xs-center"}),s("div",{staticClass:"subheading mb-3 text-xs-center"}),s("div",{staticClass:"subheading mb-3 text-xs-center"}),s("v-form",{staticClass:"header-search-bar",on:{submit:t.onSearch}},[s("v-card",{staticClass:"pa-3",attrs:{color:"transparent",flat:""}},[s("v-toolbar",{attrs:{dense:"",floating:""}},[s("v-text-field",{attrs:{autofocus:"","hide-details":"","single-line":"",placeholder:"I'm looking for"},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}}),s("v-btn",{attrs:{icon:""},on:{click:t.onSearch}},[s("v-icon",[t._v("search")])],1)],1)],1)],1)],1)],1)],1),s("section",{staticClass:"first-section"},[s("v-layout",{staticClass:"site-description",attrs:{column:"",wrap:"","align-center":""}},[s("v-flex",{staticClass:"my-3",attrs:{xs12:"",sm4:""}},[s("div",{staticClass:"text-xs-center"},[s("h2",{staticClass:"headline"},[t._v(" Search for anything you need , Book it , Enjoy it")]),s("span",{staticClass:"subheading"})])])],1)],1),s("section",{staticClass:"categories"},[s("v-layout",[s("v-flex",{attrs:{xs12:""}},[s("v-container",{attrs:{"grid-list-xl":""}},[s("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-card",{staticClass:"elevation-0 transparent"},[s("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[s("div",{staticClass:"headline"},[t._v("Events And Weddings")])]),s("v-card-media",{attrs:{height:"200px",src:"https://thumbs.dreamstime.com/b/festival-event-party-people-blurred-background-outdoor-65006620.jpg"},on:{click:function(e){t.onCategory("events")}}})],1)],1),s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-card",{staticClass:"elevation-0 transparent"},[s("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[s("div",{staticClass:"headline"},[t._v("Transportation")])]),s("v-card-media",{attrs:{height:"200px",src:"https://images.pexels.com/photos/310983/pexels-photo-310983.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940"},on:{click:function(e){t.onCategory("transportation")}}})],1)],1),s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-card",{staticClass:"elevation-0 transparent"},[s("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[s("div",{staticClass:"headline text-xs-center"},[t._v("Travel And Sports")])]),s("v-card-media",{attrs:{height:"200px",src:"https://thumbs.dreamstime.com/z/hiking-equipment-backpack-boots-top-mountain-beautiful-view-to-ranges-fog-filled-valleys-89063285.jpg"},on:{click:function(e){t.onCategory("travel")}}})],1)],1),s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-card",{staticClass:"elevation-0 transparent"},[s("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[s("div",{staticClass:"headline text-xs-center"},[t._v("Kids and Games")])]),s("v-card-media",{attrs:{height:"200px",src:"https://images.pexels.com/photos/61129/pexels-photo-61129.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350"},on:{click:function(e){t.onCategory("kids")}}})],1)],1),s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-card",{staticClass:"elevation-0 transparent"},[s("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[s("div",{staticClass:"headline text-xs-center"},[t._v("Home and kitchen")])]),s("v-card-media",{attrs:{height:"200px",src:"https://images.pexels.com/photos/442576/pexels-photo-442576.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940"},on:{click:function(e){t.onCategory("kitchen")}}})],1)],1),s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-card",{staticClass:"elevation-0 transparent"},[s("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[s("div",{staticClass:"headline text-xs-center"},[t._v("Music")])]),s("v-card-media",{attrs:{height:"200px",src:"https://images.pexels.com/photos/860707/pexels-photo-860707.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940"},on:{click:function(e){t.onCategory("music")}}})],1)],1)],1)],1)],1)],1)],1),s("div",{staticClass:"see-all-container"},[s("v-btn",{staticClass:"see-all teal mt-5",attrs:{light:"",large:""}},[s("router-link",{staticClass:"see-all",attrs:{to:"/item"}},[t._v("\r\n              See All Items\r\n              ")])],1)],1),s("div",{staticClass:"opinions-container"}),s("div",{attrs:{id:"header-carousel"}},[s("v-carousel",{staticClass:"opinions",attrs:{"hide-controls":"","hide-delimiters":"",interval:"3000",transition:"fade"}},t._l(t.slides,function(e,i){return s("v-carousel-item",{key:i,attrs:{src:e.src,"reverse-transition":"fade",transition:"fade"}},[s("v-jumbotron",{attrs:{dark:""}},[s("v-container",{attrs:{"fill-height":""}},[s("v-layout",{attrs:{"align-top":"","align-left":""}},[s("v-flex",[s("h3",{staticClass:"display-3"},[t._v(t._s(e.title))]),s("span",{staticClass:"subheading"},[t._v(t._s(e.text))])])],1)],1)],1)],1)}))],1)])],1)],1)},F=[],j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._m(0),s("h3",[t._v("Installed CLI Plugins")]),t._m(1),s("h3",[t._v("Essential Links")]),t._m(2),s("h3",[t._v("Ecosystem")]),t._m(3)])},O=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("\n    For guide and recipes on how to configure / customize this project,"),s("br"),t._v("\n    check out the\n    "),s("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank"}},[t._v("vue-cli documentation")]),t._v(".\n  ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank"}},[t._v("babel")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa",target:"_blank"}},[t._v("pwa")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank"}},[t._v("eslint")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-unit-jest",target:"_blank"}},[t._v("unit-jest")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("Core Docs")])]),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("Forum")])]),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("Community Chat")])]),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("Twitter")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://router.vuejs.org",target:"_blank"}},[t._v("vue-router")])]),s("li",[s("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank"}},[t._v("vuex")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank"}},[t._v("vue-devtools")])]),s("li",[s("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank"}},[t._v("vue-loader")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[t._v("awesome-vue")])])])}],N={name:"HelloWorld",props:{msg:String}},L=N,B=(s("bbS4"),Object(m["a"])(L,j,O,!1,null,"3ddb5e6e",null)),E=B.exports,M={data:function(){return{searchStr:"",lorem:"Lorem ipsum dolor sit amet, mel at clita quando. Te sit oratio vituperatoribus, nam ad ipsum posidonium mediocritatem, explicari dissentiunt cu mea. Repudiare disputationi vim in, mollis iriure nec cu, alienum argumentum ius ad. Pri eu justo aeque torquatos.",slides:[{src:"https://images.pexels.com/photos/789822/pexels-photo-789822.jpeg?auto=compress&cs=tinysrgb&h=800",title:"Dana Levi, 28, Tel Aviv",text:"Amazing products, amazing price. great website by the way."},{src:"https://images.pexels.com/photos/1080243/pexels-photo-1080243.png?auto=compress&cs=tinysrgb&h=800",title:"Henry Orwell, 36, New York City",text:"What I like about WeRent, is the ease of use they offer. The whole process starting with choosing the right product and the right owner, picking up the stuff and all the way to returning it and paying- was silky smooth and super easy."},{src:"https://images.pexels.com/photos/774095/pexels-photo-774095.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750",title:"Yonit Kaspi, 44, Netanya",text:"I thought it is a waste of time and money but I was surprised it was actually great!"},{src:"https://images.pexels.com/photos/325682/pexels-photo-325682.jpeg?auto=compress&cs=tinysrgb&h=800",title:"Takashi Kurosawa, 22, Tokyo",text:"BEST SERVICE EVER. period. I like about WeRent, is the ease of use they offer. The whole process starting with choosing the right product and the right owner, picking up the stuff and all the way to returning it and paying- was silky smooth and super easy."}]}},name:"home",components:{HelloWorld:E},methods:{onSearch:function(){this.$router.push("/item/?search=".concat(this.searchStr))},onCategory:function(t){this.$router.push("/item/?category=".concat(t))}}},P=M,A=(s("Rlu8"),s("IVQ2"),s("kaWY"),Object(m["a"])(P,S,F,!1,null,"bfe2da0a",null)),R=A.exports,W=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v("This is an about page")])])}],Y={},z=Object(m["a"])(Y,W,q,!1,null,null,null),J=z.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("keep-alive",[s("section",[s("div",{staticClass:"toolbar-container container"},[s("div",{staticClass:"search-container"},[s("v-form",{on:{submit:t.onSearch}},[s("v-card",{staticClass:"pa-3",attrs:{color:"transparent",flat:""}},[s("v-text-field",{attrs:{placeholder:"Search",autofocus:"","hide-details":"","single-line":""},on:{input:t.onSearch},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}},[s("v-btn",{attrs:{icon:""},on:{click:t.onSearch}},[s("v-icon",[t._v("search")])],1),s("v-icon",[t._v("search")])],1)],1)],1)],1),s("div",{staticClass:"toolbar-buttons-container"},[s("v-btn-toggle",{staticClass:"transparent",model:{value:t.toggle_exclusive,callback:function(e){t.toggle_exclusive=e},expression:"toggle_exclusive"}},t._l(t.categories,function(e,i){return s("div",{key:i},[s("v-btn",{staticClass:"toolbar-buttons",attrs:{value:i,flat:""},on:{click:function(s){t.setFiltersByCategory(e)}}},[s("div",[t._v(t._s(e))])])],1)})),s("v-menu",{staticClass:"show-sort",attrs:{transition:"slide-x-transition",bottom:"",right:""}},[s("v-btn",{staticClass:"teal",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("\r\n                                Sort\r\n                            ")]),s("v-list",t._l(t.sortings,function(e,i){return s("v-list-tile",{key:i,on:{click:function(s){t.changeSort(e)}}},[s("v-list-tile-title",[t._v(t._s(e))])],1)}))],1)],1)]),s("div",{staticClass:"mobile-buttons"},[s("div",[s("div",{staticClass:"text-xs-center"},[s("v-form",{on:{submit:function(e){return e.preventDefault(),t.onSearch(e)}}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("\r\n                                Search\r\n                            ")]),s("v-card",{staticClass:"pa-3",attrs:{color:"transparent",flat:""}},[s("v-text-field",{attrs:{placeholder:"Search",autofocus:"","hide-details":"","single-line":""},on:{input:t.onSearch},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}},[s("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.onSearch(e)}}},[s("v-icon",[t._v("search")])],1),s("v-icon",[t._v("search")])],1)],1)],1),s("v-menu",{attrs:{transition:"slide-x-transition",bottom:"",right:""}},[s("v-btn",{staticClass:"teal",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("\r\n                                Sort\r\n                            ")]),s("v-list",t._l(t.sortings,function(e,i){return s("v-list-tile",{key:i,on:{click:function(s){t.changeSort(e)}}},[s("v-list-tile-title",[t._v(t._s(e))])],1)}))],1),s("v-menu",{attrs:{transition:"slide-y-transition",bottom:""}},[s("v-btn",{staticClass:"teal",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("\r\n                                Categories\r\n                            ")]),s("v-list",t._l(t.categories,function(e,i){return s("v-list-tile",{key:i,on:{click:function(s){t.setFiltersByCategory(e)}}},[s("v-list-tile-title",[t._v(t._s(e))])],1)}))],1)],1)])]),s("ul",{staticClass:"items-list container"},t._l(t.sortedItems,function(e){return s("li",{key:e._id,staticClass:"items"},[s("item-preview",{attrs:{item:e},on:{getDistance:function(s){t.getDistance(s,e._id)}}})],1)}))])])},K=[],V=(s("Vd3H"),s("dRSK"),s("OG14"),s("pIFo"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.item?s("div",{staticClass:"item-preview"},[s("v-card",{attrs:{to:"/item/"+t.item._id}},[s("v-card-media",{attrs:{src:t.item.images[0]}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{staticClass:"white--text like",attrs:{flat:"",icon:"",color:"pink lighten-1",disabled:t.dialog,loading:t.dialog},on:{click:[function(e){return e.preventDefault(),t.addToFavorites(e)},function(e){e.stopPropagation(),t.dialog=!0}]}},[s("v-icon",[t._v("favorite")])],1)],1),s("v-container",{attrs:{"fill-height":"",fluid:""}},[s("v-layout",{attrs:{"fill-height":""}},[s("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}})],1)],1)],1),s("v-card-title",[s("div",[s("h5",[t._v(t._s(t.item.title))]),s("p",[t._v(t._s(t.shortDescription))])]),t.owner.address?s("div",{staticClass:"flex location"},[s("v-icon",{staticClass:"marker",attrs:{small:"",light:""}},[t._v("fas fa-map-marker-alt")]),s("p",[t._v(t._s(t.owner.address)+" "),s("br"),s("span",[t._v(t._s(t.distance)+" km ")]),t._v("from you")])],1):s("div",{staticClass:"flex location"},[s("v-icon",{attrs:{small:"",light:""}},[t._v("fas fa-map-marker-alt")]),s("p",[t._v("No location found")])],1),s("br"),s("div",{staticClass:"flex card-bottom"},[s("p",{staticClass:"price bold-font"},[t._v(t._s(t.item.price)+"$ per day")]),t.item?s("div",[s("v-icon",{attrs:{small:"",light:"",color:"yellow"}},[t._v("fas fa-star")]),s("span",{staticClass:"rank"},[t._v(" "+t._s(t.avgRank)+" ("+t._s(t.item.ranking.count)+") ")])],1):t._e()])])],1)],1):t._e()}),H=[],X=s("vDqi"),Z=s.n(X),Q="AIzaSyAT6kgeeG5OSYsEuffWJVuFeRPhnOa0Di0";function tt(t){return Z.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"&key=").concat(Q),{withCredentials:!1}).then(function(t){var e=t.data.results[0].geometry.location;return e})}function et(t){var e=t.lat1,s=t.lng1,i=t.lat2,a=t.lng2,n=6371,r=st(i-e),o=st(a-s),c=Math.sin(r/2)*Math.sin(r/2)+Math.cos(st(e))*Math.cos(st(i))*Math.sin(o/2)*Math.sin(o/2),l=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),u=n*l;return u}function st(t){return t*(Math.PI/180)}function it(){return new Promise(function(t,e){navigator.geolocation.getCurrentPosition(function(t){var e={lat:t.coords.latitude,lng:t.coords.longitude};return e})})}var at={getUserLatLng:tt,calcDistanceFromLatLngInKm:et,geolocation:it},nt={name:"ItemPreview",props:["item"],data:function(){return{isUserLoggedIn:!1,dialog:!1,owner:{},itemLocation:{},userLocation:{},distance:null}},methods:{addToFavorites:function(){var t=this.$store.getters.loggedinUser;t?(this.isUserLoggedIn=!0,this.$store.dispatch({type:"addItemToFavorites",item:this.item,user:t}).then(function(){})):this.showSignIn(),this.isUserLoggedIn=!1},showSignIn:function(){this.isUserLoggedIn=!1,alert("please sign in")},loadOwner:function(t){var e=this;return this.$store.dispatch({type:"loadOwnerById",ownerId:t}).then(function(t){e.owner=t})},geolocation:function(){var t=this;return new Promise(function(e,s){navigator.geolocation.getCurrentPosition(function(s){t.userLocation={lat:s.coords.latitude,lng:s.coords.longitude},e()})})},getItemLocation:function(t){var e=this;return at.getUserLatLng(t).then(function(t){e.itemLocation=t})},calcDistance:function(){var t={lat1:this.itemLocation.lat,lng1:this.itemLocation.lng,lat2:this.userLocation.lat,lng2:this.userLocation.lng},e=at.calcDistanceFromLatLngInKm(t);this.distance=e.toFixed(1),this.$emit("getDistance",this.distance)}},created:function(){var t=this;this.loadOwner(this.item.ownerId).then(function(){var e=t.geolocation(),s=t.getItemLocation(t.owner.address);return Promise.all([e,s])}).then(this.calcDistance)},computed:{shortDescription:function(){return this.item.description.length>25?this.item.description.substring(0,20)+"...":this.item.description},avgRank:function(){return this.item.ranking.avg.toFixed(1)},location:function(){return(70*Math.random()+0).toFixed(1)}},watch:{dialog:function(t){var e=this;t&&setTimeout(function(){return e.dialog=!1},2e3)}},components:{signIn:v}},rt=nt,ot=(s("liVB"),Object(m["a"])(rt,V,H,!1,null,"4448513a",null)),ct=ot.exports,lt={name:"ItemList",data:function(){return{searchStr:"",categories:[],toggle_exclusive:[],toggle_exclusive_2:[],sortings:["Name","Availiblity","Price","Distance","Rating"],toggle_multiple:null,sortBy:"",items:[{title:"Click Me"},{title:"Click Me"},{title:"Click Me"},{title:"Click Me 2"}]}},created:function(){var t=window.location.href.replace(/.*\?/,""),e=new URLSearchParams(t),s=e.get("search"),i=e.get("category");s&&this.setFiltersByTitle(s),i&&this.setFiltersByCategory(i),this.loadCategories(),this.loadItems(),console.log("** item list created **")},mounted:function(){console.log("mounted"),this.searchStr="",this.onSearch()},methods:{onSearch:function(){console.log(" ON SEARCH");var t="search="+this.searchStr,e=this.$route.query.category;e&&(t+="&category="+e),this.$router.push("".concat(this.$route.path,"?").concat(t));window.location.href;this.setFiltersByTitle(this.searchStr)},loadItems:function(){this.$store.dispatch({type:"loadItems"})},loadCategories:function(){this.categories=this.$store.getters.categories},setFiltersByCategory:function(t){"all"!==t?this.$store.commit("setFiltersByCategory",{category:t}):this.$store.commit("setFiltersByCategory",{category:""});var e="category="+t,s=this.$route.query.search;s&&(e+="&search="+s),this.$router.push("".concat(this.$route.path,"?").concat(e))},setFiltersByTitle:function(t){this.$store.commit("setFiltersByTitle",{txt:t})},changeSort:function(t){this.sortBy=t},getDistance:function(t,e){var s=this.sortedItems.find(function(t){return t._id===e});s.distance=t}},computed:{itemsForDisplay:function(){return this.$store.getters.itemsForDisplay},sortedItems:function(){var t=this.itemsForDisplay.slice();switch(this.sortBy){case"Name":t.sort(function(t,e){return t.title.toLowerCase()>e.title.toLowerCase()?1:-1});break;case"Price":t.sort(function(t,e){return+t.price>+e.price?1:-1});break;case"Rating":t.sort(function(t,e){return+t.ranking.avg>+e.ranking.avg?-1:+t.ranking.avg<+e.ranking.avg?1:0});break;case"Distance":t.sort(function(t,e){return+t.distance>+e.distance?1:-1});break}return t}},components:{itemPreview:ct}},ut=lt,dt=(s("Rhz1"),s("SdpJ"),Object(m["a"])(ut,G,K,!1,null,"5ed475e4",null)),mt=dt.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-form",{ref:"form"},[s("v-text-field",{attrs:{label:"item name"},model:{value:t.itemToUpdate.title,callback:function(e){t.$set(t.itemToUpdate,"title",e)},expression:"itemToUpdate.title"}}),s("v-text-field",{attrs:{label:"Price per day($)"},model:{value:t.itemToUpdate.price,callback:function(e){t.$set(t.itemToUpdate,"price",e)},expression:"itemToUpdate.price"}}),s("v-text-field",{attrs:{label:"Short description"},model:{value:t.itemToUpdate.description,callback:function(e){t.$set(t.itemToUpdate,"description",e)},expression:"itemToUpdate.description"}}),s("v-select",{attrs:{items:t.categories,label:"Choose category"},model:{value:t.itemToUpdate.category,callback:function(e){t.$set(t.itemToUpdate,"category",e)},expression:"itemToUpdate.category"}}),s("span",[t._v("pick available dates:")]),s("date-picker",{attrs:{unAvailableDates:t.itemToUpdate.occupiedDates},on:{"selected-date":t.selectDate},model:{value:t.itemToUpdate.occupiedDates,callback:function(e){t.$set(t.itemToUpdate,"occupiedDates",e)},expression:"itemToUpdate.occupiedDates"}}),s("div",{staticClass:"upload-img"},t._l(t.itemToUpdate.images,function(e,i){return t.itemToUpdate.images[0]?s("img",{key:t.itemToUpdate.images[i],attrs:{src:t.itemToUpdate.images[i]}}):t._e()})),t.imgUrl?s("img",{staticClass:"newImg",attrs:{src:t.imgUrl}}):t._e(),s("div",{staticClass:"file-input custom"},[s("span",[t._v("Select image")]),s("input",{attrs:{type:"file"},on:{change:function(e){t.handleFileUpload(e)}}})]),t.imgUrl?s("button",{staticClass:"saveImg",on:{click:function(e){return e.stopPropagation(),t.saveImg(e)}}},[t._v("Save new image")]):t._e(),s("div",{staticClass:"actions"},[s("v-btn",{on:{click:t.updateItem}},[t._v("\n        submit\n    ")]),s("v-btn",{on:{click:t.clear}},[t._v("clear")])],1)],1)},vt=[],ht=s("yT7P"),ft=(s("lEdz"),"cloudsts"),gt="ruv7elcf",yt="https://api.cloudinary.com/v1_1/".concat(ft,"/image/upload");function _t(t){var e=new FormData;return e.append("file",t),e.append("upload_preset",gt),fetch(yt,{method:"POST",body:e}).then(function(t){return t.json()}).catch(function(t){console.error(t)})}var bt,wt={doUploadImg:_t},kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.unAvailableDates?s("div",{staticClass:"date-picker"},[s("v-date-picker",{staticClass:"mt-3",attrs:{"header-color":"teal accent-4","allowed-dates":t.allowedDates,min:t.today},on:{input:t.sendDate},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}})],1):t._e()},It=[],Ct=(s("Z2Ku"),s("L9s1"),{name:"DatePicker",data:function(){return{selectedDate:"",today:""}},props:["unAvailableDates"],created:function(){this.todayDate()},mounted:function(){},computed:{},methods:{todayDate:function(){var t="",e="",s=new Date,i="";e=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,i=s.getDate()+1<10?"0"+s.getDate():s.getDate(),t+=s.getFullYear()+"-"+e+"-"+i,this.date=t,this.today=t},allowedDates:function(t){return!this.unAvailableDates.includes(t)},sendDate:function(){this.$emit("selected-date",this.selectedDate)}}}),xt=Ct,Ut=(s("4b9E"),Object(m["a"])(xt,kt,It,!1,null,null,null)),Dt=Ut.exports,Tt={name:"itemEdit",data:function(){return{itemToUpdate:{category:[],title:"",description:"",ranking:{count:0,avg:0,totalRank:0},price:"",dateCreated:"",keyWords:[],ownerId:"",occupiedDates:[],images:[]},categories:[],imgUrl:"",fileUpload:""}},created:function(){var t=this.$route.params.id;this.getCategories(),t&&this.loadItem(t)},mounted:function(){},methods:{updateItem:function(){var t=this,e=this.$route.params.id;e?(console.log("updating item",this.itemToUpdate),this.$store.dispatch({type:"updateItem",item:this.itemToUpdate}).then(function(e){t.itemToUpdate=t.getEmptyItem,t.$router.push("/user/"+t.user._id)})):(console.log("adding..."),this.$store.dispatch({type:"addNewItem",item:this.itemToUpdate}).then(function(e){t.itemToUpdate=t.getEmptyItem(),t.$router.push("/user/"+t.user._id)}))},handleFileUpload:function(t){var e=this;this.fileUpload=t.target.files[0],console.log(this.fileUpload),wt.doUploadImg(this.fileUpload).then(function(t){e.imgUrl=t.url,console.log("img url is",e.imgUrl)})},loadItem:function(t){var e=this;this.$store.dispatch({type:"loadItemById",itemId:t}).then(function(t){e.itemToUpdate=Object(ht["a"])({},t)})},clear:function(){this.$refs.form.reset()},getEmptyItem:function(){return{_id:null,category:[],title:"",description:"",ranking:{count:0,avg:0,totalRank:0},price:"",dateCreated:"",keyWords:[],ownerId:"",occupiedDates:[],images:[]}},getCategories:function(){this.categories=this.$store.getters.categories},selectDate:function(t){console.log(t),this.itemToUpdate.occupiedDates.push(t)},saveImg:function(){var t=JSON.parse(JSON.stringify(this.itemToUpdate.images));t.push(this.imgUrl),this.itemToUpdate.images=t,console.log(this.itemToUpdate.images)}},computed:{user:function(){return this.$store.getters.loggedinUser}},components:{datePicker:Dt}},$t=Tt,St=(s("QBcG"),Object(m["a"])($t,pt,vt,!1,null,null,null)),Ft=St.exports,jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-form",{ref:"form"},[s("v-text-field",{attrs:{label:"item name"},model:{value:t.itemToUpdate.title,callback:function(e){t.$set(t.itemToUpdate,"title",e)},expression:"itemToUpdate.title"}}),s("v-text-field",{attrs:{label:"Price per day($)"},model:{value:t.itemToUpdate.price,callback:function(e){t.$set(t.itemToUpdate,"price",e)},expression:"itemToUpdate.price"}}),s("v-select",{attrs:{items:t.categories,label:"Choose category"},model:{value:t.itemToUpdate.category,callback:function(e){t.$set(t.itemToUpdate,"category",e)},expression:"itemToUpdate.category"}}),s("date-picker",{attrs:{unAvailableDates:t.itemToUpdate.occupiedDates},on:{"selected-date":t.selectDate},model:{value:t.itemToUpdate.occupiedDates,callback:function(e){t.$set(t.itemToUpdate,"occupiedDates",e)},expression:"itemToUpdate.occupiedDates"}}),s("div",t._l(t.itemToUpdate.images,function(e,i){return t.itemToUpdate.images[0]?s("img",{key:t.itemToUpdate.images[i],attrs:{src:t.itemToUpdate.images[i]}}):t._e()})),s("div",{staticClass:"file-input custom"},[s("span",[t._v("Select image")]),s("input",{attrs:{type:"file"},on:{change:function(e){t.handleFileUpload(e)}}})]),t.imgUrl?s("button",{staticClass:"saveImg",on:{click:function(e){return e.stopPropagation(),t.saveImg(e)}}},[t._v("Save new image")]):t._e(),s("div",{staticClass:"actions"},[s("v-btn",{on:{click:t.updateItem}},[t._v("\n        submit\n    ")]),s("v-btn",{on:{click:t.clear}},[t._v("clear")])],1)],1)},Ot=[],Nt={name:"userEdit",data:function(){return{itemToUpdate:{_id:null,category:[],title:"",description:"",ranking:{count:0,avg:0,totalRank:0},price:"",dateCreated:"",keyWords:[],ownerId:"",occupiedDates:[],images:[],reviews:[]},categories:[],imgUrl:"",fileUpload:""}},created:function(){var t=this.$route.params.id;this.getCategories(),t&&this.loadItem(t)},mounted:function(){},methods:{updateItem:function(){var t=this.$route.params.id;t?this.$store.dispatch({type:"updateItem",item:this.itemToUpdate}):this.$store.dispatch({type:"addNewItem",item:this.itemToUpdate}),this.itemToUpdate=this.getEmptyItem,this.imgUrl="",this.$router.push("/user/"+this.user._id)},handleFileUpload:function(t){var e=this;this.fileUpload=t.target.files[0],wt.doUploadImg(this.fileUpload).then(function(t){e.imgUrl=t.url;var s=JSON.parse(JSON.stringify(e.itemToUpdate.images));s.push(e.imgUrl),e.itemToUpdate.images=s})},loadItem:function(t){var e=this;this.$store.dispatch({type:"loadItemById",itemId:t}).then(function(t){e.itemToUpdate=Object(ht["a"])({},t)})},clear:function(){this.$refs.form.reset()},getEmptyItem:function(){return{_id:null,category:[],title:"",description:"",ranking:{count:0,avg:0,totalRank:0},price:"",dateCreated:"",keyWords:[],ownerId:"",occupiedDates:[],images:[]}},getCategories:function(){this.categories=this.$store.getters.categories},selectDate:function(t){this.itemToUpdate.occupiedDates.push(t)}},computed:{user:function(){return this.$store.getters.loggedinUser}},compnents:{datePicker:Dt}},Lt=Nt,Bt=(s("GTJj"),Object(m["a"])(Lt,jt,Ot,!1,null,"05d1cc74",null)),Et=Bt.exports,Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.itemForDisplay?s("section",[t.isBooked?s("book-item",{attrs:{selectedDate:t.selectedDate||null},on:{"cancel-deal":t.cancelDeal}}):s("div",{staticClass:"main-container flex space-between"},[s("div",{staticClass:"item-details"},[s("div",{staticClass:"header"},[s("div",[s("h1",{staticClass:"bold-font"},[t._v(" "+t._s(t.itemForDisplay.title))]),s("span",[s("v-icon",{attrs:{color:"yellow"}},[t._v("fas fa-star")]),t._v(t._s(t.itemForDisplay.ranking?t.itemForDisplay.ranking.avg.toFixed(1):"")+" ("+t._s(t.itemForDisplay.ranking?t.itemForDisplay.ranking.count:"")+") ")],1)]),s("div",{staticClass:"seller-details"},[s("div",{staticClass:"owner-pic",style:{backgroundImage:"url("+t.owner.image+")"}}),t.owner?s("label",[t._v(t._s(t.owner.name)+" ")]):t._e(),s("a",{staticClass:"bold-font"},[s("i",{staticClass:"far fa-comments"})])])]),s("p",{staticClass:"bold-font"},[s("i",{staticClass:"fas fa-dollar-sign"}),t._v("\n                "+t._s(t.itemForDisplay.price)+"$ per day ")]),s("p",{staticClass:"show-calender",on:{click:t.showCalender}},[s("i",{staticClass:"fas fa-calendar-alt"}),t._v("Check Availability")]),s("p",[s("i",{staticClass:"fas fa-info"}),t._v(t._s(t.itemForDisplay.description))]),t.itemForDisplay.images?s("div",{staticClass:"d-flex flex-column"},[s("img",{staticClass:"main-image",attrs:{src:t.mainImage}}),s("div",{staticClass:"spacer-paragrph"}),t.itemForDisplay.images.length>1?s("div",{staticClass:"image-gallery d-flex"},[t._l(t.itemForDisplay.images,function(e,i){return t.itemForDisplay.images.length>1?s("div",{key:i,staticClass:"small-image"},[s("img",{staticClass:"thumb-photo",attrs:{src:e},on:{click:function(e){t.switchMainImg(i)}}})]):t._e()}),s("hr"),s("div",{staticClass:"spacer-paragrph"})],2):t._e()]):t._e()]),s("div",{staticClass:"more-details"},[s("div",{staticClass:"show-map"},[t.distance?s("div",{staticClass:"location"},[s("i",{staticClass:"fas fa-map-marker-alt"}),t._v(" Pick up from:\n                    "),s("br"),t._v(" "+t._s(t.owner.address)+" ( "+t._s(t.distance)+" Km from you)\n                ")]):t._e(),s("GmapMap",{ref:"mapRef",staticStyle:{width:"400px",height:"300px"},attrs:{center:{lat:t.currentLocation.lat,lng:t.currentLocation.lng},zoom:13,"map-type-id":"roadmap"}},t._l(t.markers,function(t,e){return s("GmapMarker",{key:e,attrs:{position:t.position,clickable:!0,draggable:!0,icon:t.icon}})}))],1),s("div",{staticClass:"date-book",class:{show:t.showDates}},[s("i",{staticClass:"far fa-calendar-alt"}),t._v(" Availability:\n            "),s("div",{staticClass:"calender"},[t.itemForDisplay?s("date-picker",{attrs:{unAvailableDates:t.itemForDisplay.occupiedDates},on:{"selected-date":t.selectDate}}):t._e()],1),t.user?s("div",[s("v-btn",{staticClass:"btn-book bold-font",on:{click:t.bookNow}},[t._v("Book Now")])],1):s("sign-up-modal",{on:{signedUp:t.bookNow}})],1)])]),s("div",{staticClass:"reviews-container"},[s("h2",[t._v("Customer reviews")]),s("ul",{staticClass:"reviews"},t._l(t.itemForDisplay.reviews,function(e){return e?s("li",{key:e.id},[s("div",{staticClass:"review-user-details"},[s("div",{staticClass:"review-img",style:{backgroundImage:"url("+e.userImg+")"}}),s("h3",[t._v(t._s(e.userName))])]),s("div",{staticClass:"review-content"},[s("h4",t._l(e.rank,function(e){return s("span",{key:e},[t._v("\n                            ⭐\n                        ")])})),s("p",[t._v("published: "+t._s(t._f("moment")(+e.dateCreated,"DD/MM/YYYY"))+" ")]),s("p",[t._v(t._s(e.content))])])]):t._e()}))])],1):t._e()},Pt=[],At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"book-page"},[s("confirm-modal",{attrs:{open:t.open},on:{closeModal:t.closeModal}}),s("div",{staticClass:"d-flex flex-column"},[s("div",{staticClass:"close-deal d-flex"},[s("div",[s("img",{staticClass:"main-image",attrs:{src:t.item.images[0]}})]),s("div",{staticClass:"details"},[s("h1",[t._v("Hi "+t._s(t.user.name)+"!")]),s("br"),t._v(" You chose to rent "+t._s(t.item.name)+"\n                "),s("p",[t._v("From "+t._s(t.owner.name)+" ")]),s("p",[t._v(" pickup address is "+t._s(t.owner.address))]),s("p",[t._v("\n                    In date: "+t._s(t._f("moment")(t.selectedDateRent,"DD-MM-2018"))+"\n                    "),s("br"),t._v(" Price For Day: "+t._s(t.item.price)+"$\n                    "),s("br")]),s("button",{staticClass:"btn bold-font",on:{click:function(e){return e.preventDefault(),t.approveDeal(e)}}},[t._v("Submit")]),s("br"),s("button",{staticClass:"btn bold-font",on:{click:function(e){return e.preventDefault(),t.cancel(e)}}},[t._v("Back")]),s("br")])]),s("hr"),s("div",[s("h2",[t._v("Similar items you might be intrested:")]),t.itemsForDisplay?s("ul",{staticClass:"items-list"},t._l(t.itemsForDisplay,function(t){return s("li",{key:t._id},[s("item-preview",{attrs:{item:t}})],1)})):t._e()])])],1)},Rt=[],Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-xs-center"},[s("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("\n                Your Order Has Been Accepted!\n            ")]),s("v-card-text",[t._v("\n                Thank you for using rentApp!\n            ")]),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("router-link",{attrs:{to:"/user/"+t.user._id}},[s("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.closeModal}},[t._v("\n                    OK\n                ")])],1)],1)],1)],1)],1)},qt=[],Yt={name:"confirmModal",props:["open"],data:function(){return{}},created:function(){},methods:{closeModal:function(){this.$emit("closeModal"),this.$emit("approve")}},computed:{dialog:function(){return this.open},user:function(){return this.$store.getters.loggedinUser}}},zt=Yt,Jt=(s("pvdL"),Object(m["a"])(zt,Wt,qt,!1,null,"a81a73dc",null)),Gt=Jt.exports,Kt={name:"BookItem",props:["selectedDate"],data:function(){return{firstDateTimeStamp:null,secDateTimeStamp:null,today:null,open:!1,daysToRent:1,firstDay:null,lastDay:null,dealDetails:{itemId:null,ownerId:null,isNew:!0,price:null,renterId:null,dates:null}}},created:function(){this.loadItem(this.$route.params.id),this.todayDate()},methods:{loadItem:function(t){var e=this;this.$store.dispatch({type:"loadItemById",itemId:t}).then(function(t){return e.$store.dispatch({type:"loadOwnerById",ownerId:t.ownerId})}).then(function(t){e.loadFirstData(),e.$store.commit({type:"setFilterItems",category:e.item.category})})},loadFirstData:function(){this.dealDetails.itemId=this.$route.params.id,this.dealDetails.ownerId=this.$store.getters.itemOwner._id,this.dealDetails.renterId=this.$store.getters.loggedinUser._id,this.dealDetails.dates=[this.selectedDate],this.dealDetails.price=this.item.price},todayDate:function(){var t="",e="",s=new Date;e=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,t+=s.getFullYear()+"-"+e+"-"+s.getDate(),this.today=t},approveDeal:function(){var t=this,e=Object(ht["a"])({},this.$store.getters.selectedItem),s=JSON.parse(JSON.stringify(e.occupiedDates));s.push(this.dealDetails.firstDay),e.occupiedDates=s,this.$store.dispatch({type:"updateItem",item:e}).then(function(){t.$store.dispatch({type:"newTransaction",trans:t.dealDetails}).then(function(){t.open=!0})})},cancel:function(){this.$emit("cancel-deal")},closeModal:function(){this.open=!1}},computed:{owner:function(){return this.$store.getters.itemOwner},item:function(){return this.$store.getters.selectedItem},selectedDateRent:function(){return this.selectedDate||this.today},itemsForDisplay:function(){return this.$store.getters.filteredItems},user:function(){return this.$store.getters.loggedinUser}},components:{itemPreview:ct,confirmModal:Gt}},Vt=Kt,Ht=(s("FuLs"),Object(m["a"])(Vt,At,Rt,!1,null,"2b06ab96",null)),Xt=Ht.exports,Zt=s("wdo6"),Qt=s.n(Zt),te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:""}},[s("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-btn",{staticClass:"btn-book bold-font",attrs:{slot:"activator"},slot:"activator"},[t._v("Book Now!")]),s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(" In order to book this item please sign up:\n                ")])]),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{label:"full name",required:""},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Email",required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Password",type:"password",required:""},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{label:"address",required:""},model:{value:t.user.address,callback:function(e){t.$set(t.user,"address",e)},expression:"user.address"}})],1)],1)],1),s("small",[t._v("*indicates required field")])],1),s("v-card-actions",[s("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Close")]),s("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.saveNewUser(e)}}},[t._v("Save")])],1)],1)],1)],1)},ee=[],se={name:"SignUpModal",data:function(){return{dialog:!1,user:{name:"",email:"",password:"",address:""}}},methods:{saveNewUser:function(){this.$store.dispatch({type:"updateUser",user:this.user}),this.$emit("signedUp"),this.dialog=!1}},computed:{}},ie=se,ae=(s("j0MC"),Object(m["a"])(ie,te,ee,!1,null,"2f237f25",null)),ne=ae.exports,re=s("dV7z"),oe={name:"itemDetails",data:function(){return{isBooked:!1,dialog:!1,owner:{},selectedDate:"",showDates:!1,distance:null,images:[],mainImage:"",currentLocation:{lat:0,lng:0},markers:[{position:{lat:0,lng:0},icon:"/img/marker.png"}]}},created:function(){var t=this;this.loadItem(this.$route.params.id).then(function(){var e=t.geolocation(),s=t.getItemLocation(t.owner.address);return Promise.all([e,s])}).then(this.calcDistance)},computed:{itemForDisplay:function(){return this.$store.getters.selectedItem},user:function(){return this.$store.getters.loggedinUser},google:re["gmapApi"],ranking:function(){}},mounted:function(){},methods:{loadItem:function(t){var e=this;return this.$store.dispatch({type:"loadItemById",itemId:t}).then(function(t){return e.images=t.images,e.mainImage=t.images[0],e.loadOwner(t.ownerId)})},switchMainImg:function(t){this.mainImage=this.images[t]},goBackToList:function(){this.$router.push("/app"),this.$store.commit({type:"unSetItem"})},cancelDeal:function(){this.isBooked=!1},selectFirstDate:function(t){this.selectedStartDate=t},setRating:function(t){this.$store.commit({type:"updateItemRank",rating:t}),this.$store.dispatch({type:"updateItem"})},loadOwner:function(t){var e=this;return this.$store.dispatch({type:"loadOwnerById",ownerId:t}).then(function(t){e.owner=t})},bookNow:function(){this.isBooked=!0},selectDate:function(t){this.selectedDate=t},showCalender:function(){console.log(this.showDates),this.showDates=!this.showDates},geolocation:function(){var t=this;return new Promise(function(e,s){navigator.geolocation.getCurrentPosition(function(s){t.currentLocation={lat:s.coords.latitude,lng:s.coords.longitude},t.markers[0].position=t.currentLocation,e()})})},getItemLocation:function(t){var e=this;return at.getUserLatLng(t).then(function(t){e.markers.push({position:t})})},calcDistance:function(){var t={lat1:this.markers[0].position.lat,lng1:this.markers[0].position.lng,lat2:this.markers[1].position.lat,lng2:this.markers[1].position.lng},e=at.calcDistanceFromLatLngInKm(t);this.distance=e.toFixed(2)}},components:{datePicker:Dt,signUpModal:ne,bookItem:Xt}},ce=oe,le=(s("UgBZ"),Object(m["a"])(ce,Mt,Pt,!1,null,"7a757323",null)),ue=le.exports,de=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.user?s("div",{staticClass:"user-profile container"},[s("div",{staticClass:"user-contact-profile"},[s("v-avatar",{attrs:{size:"120px",color:"grey lighten-4"}},[s("img",{attrs:{src:t.user.image,alt:"avatar"}})]),s("h2",[t._v(t._s(t.user.name))]),s("h4",[t._v(t._s(t.user.email))])],1),s("div",{staticClass:"add-item"},[s("button",{staticClass:"add"},[s("router-link",{attrs:{to:"/item/edit",title:"Add"}},[t._v("\n                Add item\n                "),s("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1)]),s("div",{staticClass:"tabs bold-font"},[s("ul",[s("button",{staticClass:"tab1",on:{click:t.showItemsForRent}},[t._v("My items")]),t._v(" |\n            "),s("button",{staticClass:"tab3",on:{click:t.showFavorites}},[t._v("My favorites")]),t._v(" |\n            "),s("button",{staticClass:"tab4",on:{click:t.showTrnsactions}},[t._v("My Orders\n                "),t.isNewNote?s("v-icon",{staticClass:"notification"},[t._v("fas fa-bell")]):t._e()],1)])]),s("div",{staticClass:"user-profile-items"},[t.itemsToShow&&!t.transactionsState?s("ul",{staticClass:"items-list"},t._l(t.itemsToShow,function(e){return s("li",{key:e._id},[s("item-preview-for-user",{attrs:{item:e,isEdit:t.isEditable}})],1)})):t._e()]),t.transactionsState?s("div",{staticClass:"user-profile-transactions"},[s("transactions",{attrs:{transactions:t.transactions}})],1):t._e()]):t._e()},me=[],pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.item?s("div",{staticClass:"item-preview"},[s("v-card",{attrs:{to:"/item/"+t.item._id}},[s("v-card-media",{attrs:{height:"10em",src:t.item.images[0]}}),s("v-card-title",[s("div",[s("h4",[t._v(t._s(t.item.title))]),s("p",[t._v(t._s(t.shortDescription))])]),s("div",{staticClass:"flex card-bottom"},[s("p",{staticClass:"price bold-font"},[t._v(t._s(t.item.price)+"$ per day")])])]),t.isEdit?s("v-card-actions",{staticClass:"justify-center"},[s("div",{staticClass:"text-xs-center"},[s("router-link",{attrs:{to:"/item/edit/"+t.item._id,title:"Edit"}},[s("v-icon",{attrs:{dark:""}},[t._v("edit")])],1),s("v-icon",{attrs:{dark:""},on:{click:function(e){t.removeItem(t.item._id)}}},[t._v("fas fa-trash-alt")])],1)]):t._e()],1)],1):t._e()},ve=[],he={name:"ItemPreview",props:["item","isEdit"],data:function(){return{isUserLoggedIn:!1,dialog:!1}},methods:{addToFavorites:function(){var t=this.$store.getters.loggedinUser;t?(this.isUserLoggedIn=!0,this.$store.dispatch({type:"addItemToFavorites",item:this.item,user:t}).then(function(){})):this.showSignIn(),this.isUserLoggedIn=!1},showSignIn:function(){this.isUserLoggedIn=!1,alert("please sign in")},isFutureDate:function(t){var e=new Date(t),s=Date.now()+864e5;return+e>s}},created:function(){},computed:{shortDescription:function(){return this.item.description.length>25?this.item.description.substring(0,25)+"...":this.item.description},avgRank:function(){return this.item.ranking.avg.toFixed(1)}},watch:{dialog:function(t){var e=this;t&&setTimeout(function(){return e.dialog=!1},2e3)}},components:{signIn:v}},fe=he,ge=(s("W5Dn"),Object(m["a"])(fe,pe,ve,!1,null,"00b9020e",null)),ye=ge.exports,_e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"orders"},[s("h1",[t._v("Items I ordered")]),s("div",{staticClass:"activeTrasactions"},[s("ul",t._l(t.transactions.activeTransactions,function(e){return s("li",{key:e._id,staticClass:"flex"},[s("div",[s("img",{attrs:{src:e.item.images[0]}})]),s("div",[s("h3",[t._v(t._s(e.item.title))]),s("p",[t._v(" price: "+t._s(e.item.price)+"$")])]),s("div",{staticClass:"details"},[s("p",[s("v-icon",[t._v("far fa-handshake ")]),t._v(" Rented from: "+t._s(e.fromOwner.name))],1),s("p",[t._v("Email: "+t._s(e.fromOwner.email))]),s("p",[t._v("Day of picking-up: "+t._s(t._f("moment")(e.dates[0],"DD/MM/YYYY")))]),s("p",[t._v("From: "+t._s(e.fromOwner.address))])]),s("div",{staticClass:"rank"},[s("star-rating",{attrs:{"star-size":15},on:{"rating-selected":function(s){t.setRating(s,e.item)}}})],1)])}))]),s("hr"),s("div",{staticClass:"passiveTrasactions"},[s("h1",[t._v("Items ordered from me")]),s("ul",t._l(t.transactions.passiveTransactions,function(e){return t.isFutureDate(e.dates[0])?s("li",{key:e._id,staticClass:"flex",class:{newTrans:e.isNew}},[s("div",[s("img",{attrs:{src:e.item.images[0]}})]),s("div",[s("h3",[t._v(t._s(e.item.title))]),s("p",[t._v(" price: "+t._s(e.item.price)+"$")])]),s("div",{staticClass:"details"},[s("p",[s("v-icon",[t._v("far fa-handshake ")]),t._v(" Orderd from: "+t._s(e.rentedTo.name))],1),s("p",[t._v("email: "+t._s(e.rentedTo.email))]),s("p",[t._v("Day of picking-up: "+t._s(e.dates[0])+" ("+t._s(t._f("moment")(e.dates[0],"from"))+")")])])]):t._e()}))])])},be=[],we={props:["transactions"],data:function(){return{}},created:function(){},methods:{isFutureDate:function(t){var e=new Date(t),s=Date.now()+864e5;return+e>s},setRating:function(t,e){e.ranking.totalRank+=t,this.$store.dispatch({type:"updateItemWithRank",rating:t,item:e}).then(function(t){return console.log("item updated",t)})}},computed:{}},ke=we,Ie=(s("qW5m"),Object(m["a"])(ke,_e,be,!1,null,"dde8d7d0",null)),Ce=Ie.exports,xe={data:function(){return{user:null,userAndItems:null,itemsToShow:[],isEditable:!0,transactionsState:!1,transactions:{passiveTransactions:[],activeTransactions:[]},favoriteItems:[],checkNewTrans:!1,isNewNote:!1}},created:function(){this.loadUser(this.$route.params.id)},methods:{loadUser:function(t){var e=this;this.user=Object(ht["a"])({},this.$store.getters.loggedinUser),this.$store.dispatch({type:"getTransactionsByOwner",userId:t}).then(function(s){e.transactions.passiveTransactions=s,e.$store.dispatch({type:"getTransactionsByRenter",userId:t}).then(function(s){e.transactions.activeTransactions=s,e.$store.dispatch({type:"getUserWithItems",userId:t}).then(function(t){e.user=t.user,e.userAndItems=t,e.itemsToShow=t.owendItems,e.isNewNote=e.$store.getters.isNewNote})})})},removeItem:function(t){var e=this;this.$store.dispatch({type:"deleteItem",itemId:t}).then(function(){return e.loadUser(e.$route.params.id)})},showItemsForRent:function(){this.itemsToShow=this.userAndItems.owendItems,this.isEditable=!0,this.transactionsState=!1},showItemsRented:function(){this.itemsToShow=this.userAndItems.rentedItems,this.isEditable=!1,this.transactionsState=!1},showFavorites:function(){this.itemsToShow=this.userAndItems.favoriteItems,this.isEditable=!1,this.transactionsState=!1},showTrnsactions:function(){var t=this;if(this.transactionsState=!0,this.checkNewTrans=!0,this.isNewNote=!1,!this.isNewNote&&this.checkNewTrans)for(var e=0;e<this.transactions.passiveTransactions.length;e++){var s=this.transactions.passiveTransactions;s[e].isNew&&(s[e].isNew=!1,this.$store.dispatch({type:"updateTransaction",transaction:s[e]}).then(function(e){return t.$store.commit({type:"setNewNotification",status:!1})}))}}},computed:{},components:{itemList:mt,itemPreviewForUser:ye,transactions:Ce}},Ue=xe,De=(s("z0Fl"),Object(m["a"])(Ue,de,me,!1,null,"4886ea39",null)),Te=De.exports,$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("br"),s("br"),s("br"),s("br"),s("br"),s("h2",[t._v("***  CHAT  ***")]),s("ul",{staticClass:"messages"},t._l(t.msgs,function(e){return s("li",{key:e},[t._v("\n        "+t._s(e)+"\n      ")])})),s("form",{on:{submit:function(e){return e.preventDefault(),t.sendMsg(e)}}},[s("div",[t._v("Form:")]),s("input",{staticClass:"chat-input",attrs:{placeholder:"your message",name:"chatInput",autocomplete:"off"}}),s("button",[t._v("Send")])])])},Se=[],Fe=s("oyJW"),je={name:"chatSocket",data:function(){return{currMsg:"",msgs:[]}},mounted:function(){var t=prompt("Your name?"),e="Hey all, I'm "+t+", nice to meet you";this.$socket.emit("chat join",e)},sockets:(bt={},Object(Fe["a"])(bt,"user_connected",function(t){this.msgs.unshift(t)}),Object(Fe["a"])(bt,"chat message",function(t){this.msgs.unshift(t)}),bt),methods:{sendMsg:function(t){console.log(t.target.chatInput.value),this.$socket.emit("chat send-message",t.target.chatInput.value),t.target.chatInput.value=""}},computed:{},components:{}},Oe=je,Ne=(s("NdXo"),Object(m["a"])(Oe,$e,Se,!1,null,null,null)),Le=Ne.exports;i["default"].use($["a"]);var Be=new $["a"]({routes:[{path:"/",name:"home",component:R},{path:"/about",name:"about",component:J},{path:"/item",name:"itemList",component:mt},{path:"/item/edit/:id?",name:"itemEdit",component:Ft},{path:"/user/edit/:id?",name:"userEdit",component:Et},{path:"/item/:id",name:"itemDetails",component:ue},{path:"/user/:id",name:"userProfile",component:Te},{path:"/chat",name:"chat",component:Le}]}),Ee=s("L2JU"),Me=(s("INYr"),"/item");function Pe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Z.a.get("".concat(Me),{params:{filterBy:t}}).then(function(t){return t.data})}function Ae(t){return Z.a.get("".concat(Me,"/").concat(t)).then(function(t){return t.data})}function Re(t){return Z.a.get("".concat(Me,"/query/").concat(t)).then(function(t){return t.data})}function We(t){return Z.a.delete("".concat(Me,"/").concat(t))}function qe(t){return Z.a.post(Me,t).then(function(t){return t.data})}function Ye(t){return Z.a.put("".concat(Me,"/").concat(t._id),t).then(function(t){return t.data})}var ze={getAllItems:Pe,getItemById:Ae,deleteItem:We,addItem:qe,updateItem:Ye,getItemByOwnerId:Re},Je=(s("MCLT"),{state:{items:[],filterByText:"",selectedItem:{},filters:{byTitle:"",byCategory:""},categories:["all","travel","kitchen","transportation","kids","events","music","hardware"],filteredItems:[]},mutations:{addNewItem:function(t,e){t.items.unshift(e.item)},deleteItem:function(t,e){var s=e.itemId;t.items=t.items.filter(function(t){return t._id!==s})},setItems:function(t,e){var s=e.items;t.items=s},updateItem:function(t,e){var s=e.item,i=t.items.findIndex(function(t){return s._id===t._id});t.items.splice(i,1,s)},setSelctedItem:function(t,e){var s=e.item;t.selectedItem=s},unSetSelctedItem:function(t){t.selectedItem={}},setFilterItems:function(t,e){var s=e.category;t.filteredItems=t.items.filter(function(t){return t.category.some(function(t){return s.includes(t)})})},setFiltersByCategory:function(t,e){var s=e.category;t.filters.byCategory=s},setFiltersByTitle:function(t,e){var s=e.txt;t.filters.byTitle=s}},getters:{itemsForDisplay:function(t){var e=t.items;return t.filters.byTitle&&(e=e.filter(function(e){return e.title.toLowerCase().includes(t.filters.byTitle.toLowerCase())||e.description.toLowerCase().includes(t.filters.byTitle.toLowerCase())})),t.filters.byCategory&&(e=e.filter(function(e){return e.category.some(function(e){return e.toLowerCase().includes(t.filters.byCategory.toLowerCase())})})),e},filterBy:function(t){return t.filterByText},selectedItem:function(t){return t.selectedItem},categories:function(t){return t.categories},filteredItems:function(t){return t.filteredItems}},actions:{loadItems:function(t,e){return ze.getAllItems(t.state.filterBy).then(function(e){return t.commit({type:"setItems",items:e}),t.state.items})},loadItemById:function(t,e){var s=e.itemId;return ze.getItemById(s).then(function(e){return t.commit({type:"setSelctedItem",item:e}),e})},deleteItem:function(t,e){var s=e.itemId;return ze.deleteItem(s).then(function(){t.commit({type:"deleteItem",itemId:s})})},addNewItem:function(t,e){var s=e.item;return console.log("item adding: ",s),ze.addItem(s).then(function(e){t.commit({type:"addNewItem",item:e})})},updateItem:function(t,e){var s=e.item;return s||(s=t.state.selectedItem),ze.updateItem(s).then(function(e){return t.commit({type:"updateItem",item:e})})},updateItemWithRank:function(t,e){var s=e.rating,i=e.item;return i.ranking.count+=1,i.ranking.avg=(i.ranking.totalRank+s)/i.ranking.count,ze.updateItem(i).then(function(e){return t.commit({type:"updateItem",item:e})})}}});new i["default"];function Ge(t){var e=localStorage.getItem(t);return e?JSON.parse(e):null}function Ke(t,e){localStorage[t]=JSON.stringify(e)}function Ve(t){localStorage.removeItem(t)}var He={loadFromStorage:Ge,saveToStorage:Ke,clearStorage:Ve},Xe=(s("erV9"),"loggedinUser"),Ze="/user",Qe=He.loadFromStorage(Xe)||null;function ts(t){var e=t.user;return Z.a.post("".concat(Ze,"/checkLogin"),{user:e}).then(function(t){return rs(t.data),t.data})}function es(t){return Z.a.post("".concat(Ze,"/signup"),t.user).then(function(t){return t.data}).catch(function(t){return t})}function ss(t){return Z.a.get("".concat(Ze,"/").concat(t)).then(function(t){return t.data})}function is(){Qe=null,He.clearStorage(Xe)}function as(){return Qe}function ns(t){return Z.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"&key=").concat(GOOGLE_API_KEY),{withCredentials:!1}).then(function(t){var e=t.data.results[0].geometry.location;return e})}function rs(t){Qe=t,He.saveToStorage(Xe,Qe)}function os(t,e){return Z.a.post("".concat(Ze,"/favorites/").concat(e._id),t).then(function(t){return t.data})}function cs(t){return Z.a.put("".concat(Ze,"/").concat(t._id),t).then(function(t){return t.data})}function ls(t){return Z.a.get("".concat(Ze,"/item/").concat(t)).then(function(t){return t.data})}var us={login:ts,getLoggedInUser:as,logOut:is,getUserById:ss,signup:es,addFavorites:os,getAllItemsByUser:ls,getUserLatLng:ns,updateUser:cs},ds=(s("Po9p"),{state:{user:us.getLoggedInUser(),userWithItems:null,owner:{}},mutations:{setUser:function(t,e){var s=e.user;t.user=s},setOwner:function(t,e){var s=e.user;t.owner=s},setUserWithItems:function(t,e){var s=e.user;t.userWithItems=s}},actions:{loadOwnerById:function(t,e){var s=e.ownerId;return us.getUserById(s).then(function(e){return t.commit({type:"setOwner",user:e}),e})},login:function(t,e){var s=e.user;return us.login({user:s}).then(function(e){return t.commit({type:"setUser",user:e}),e})},logOut:function(t){return us.logOut(),t.commit({type:"setUser",user:null})},updateUser:function(t,e){var s=e.user;return s._id?us.updateUser(s).then(function(e){return t.commit({type:"setUser",user:e})}):us.signup({user:s}).then(function(e){return t.commit({type:"setUser",user:e})})},addItemToFavorites:function(t,e){var s=e.user,i=e.item;us.addFavorites(s,i).then(function(t){for(var e=0;e<t.favoriteItems.length;e++)ze.getItemById(t.favoriteItems[e])})},getUserWithItems:function(t,e){var s=e.userId;return us.getAllItemsByUser(s).then(function(e){return t.commit({type:"setUserWithItems",user:e}),e})}},getters:{isAdmin:function(t){return!!t.user&&t.user.isAdmin},loggedinUser:function(t){return t.user},rentedItemsByUser:function(t){return t.userWithItems?t.userWithItems.rentedItems:[]},itemsForRent:function(t){return t.userWithItems?t.userWithItems.owendItems:[]},favoriteItems:function(t){return t.userWithItems?t.userWithItems.favoriteItems:[]},itemOwner:function(t){return t.owner}}}),ms="/transaction";function ps(t){return Z.a.post(ms,t).then(function(t){return t.data})}function vs(t){return Z.a.get("".concat(ms,"/").concat(t)).then(function(t){return t.data})}function hs(t){return Z.a.get("".concat(ms,"/activeTransactions/").concat(t)).then(function(t){return t.data})}function fs(t){return Z.a.put("".concat(ms,"/").concat(t._id),t).then(function(t){return t.data})}var gs={newTransaction:ps,getTransactionsByOwner:vs,getTransactionsByRenter:hs,updateTransaction:fs},ys={state:{newNotification:!1},mutations:{setNewNotification:function(t,e){var s=e.status;return t.newNotification=s}},getters:{isNewNote:function(t){return t.newNotification}},actions:{newTransaction:function(t,e){var s=e.trans;return gs.newTransaction(s)},getTransactionsByOwner:function(t,e){var s=e.userId;return gs.getTransactionsByOwner(s)},getTransactionsByRenter:function(t,e){var s=e.userId;return gs.getTransactionsByRenter(s)},updateTransaction:function(t,e){var s=e.transaction;return console.log("from store",s),gs.updateTransaction(s)}}};i["default"].use(Ee["a"]);var _s=new Ee["a"].Store({strict:!0,state:{},mutations:{},actions:{},modules:{itemModule:Je,userModule:ds,transactionsModule:ys}}),bs=s("zlta"),ws=s.n(bs),ks=s("gFX4"),Is=s.n(ks),Cs=s("ChK9"),xs=s.n(Cs),Us=s("lIOY");Object(Us["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});s("4zg/"),s("v0CA"),s("0eeA");i["default"].use(xs.a,Is()("http://localhost:3000")),i["default"].component("star-rating",Qt.a),i["default"].use(re,{load:{key:"AIzaSyAT6kgeeG5OSYsEuffWJVuFeRPhnOa0Di0",libraries:"places"}}),i["default"].use(ws.a),i["default"].use(s("Lq01")),Z.a.defaults.withCredentials=!0,i["default"].config.productionTip=!1,new i["default"]({router:Be,store:_s,render:function(t){return t(T)}}).$mount("#app")},Vuo5:function(t,e,s){},W5Dn:function(t,e,s){"use strict";var i=s("/XLY"),a=s.n(i);a.a},WUCZ:function(t,e,s){},XAuw:function(t,e,s){"use strict";var i=s("EG/1"),a=s.n(i);a.a},Zfy2:function(t,e,s){},aEhp:function(t,e,s){},b3FM:function(t,e,s){},bbS4:function(t,e,s){"use strict";var i=s("3G2R"),a=s.n(i);a.a},"dj/A":function(t,e,s){},dzuK:function(t,e,s){},gb8k:function(t,e,s){},h99f:function(t,e,s){},j0MC:function(t,e,s){"use strict";var i=s("gb8k"),a=s.n(i);a.a},jvmp:function(t,e,s){},kaWY:function(t,e,s){"use strict";var i=s("qHRp"),a=s.n(i);a.a},liVB:function(t,e,s){"use strict";var i=s("Zfy2"),a=s.n(i);a.a},pvdL:function(t,e,s){"use strict";var i=s("uA5G"),a=s.n(i);a.a},qHRp:function(t,e,s){},qW5m:function(t,e,s){"use strict";var i=s("KvoV"),a=s.n(i);a.a},uA5G:function(t,e,s){},x949:function(t,e,s){},xwAp:function(t,e,s){},z0Fl:function(t,e,s){"use strict";var i=s("Vuo5"),a=s.n(i);a.a}});
//# sourceMappingURL=app.eaea2b89.js.map